# OVERFLOW.C  —— 8086 溢出中断（INT 4）自定义处理程序  

## 程序功能
- 重写 4 号中断（INTO，溢出中断）的中断服务程序  
- 拦截有符号加法 / 除法溢出（OF=1 时自动触发）  
- 溢出发生时强行把运算结果 AL 置 0  
- 同时清除 CF 与 OF 标志位    
   用 C + 内联汇编实现  
   没有使用 JO / JNO 指令  
   中断处理结束后正确 IRET 返回  
   程序结束时恢复原始中断向量

## 关键代码说明
- getvect(0x04) / setvect(0x04, ...)  正确操作中断向量表  
- 内联汇编手动检测 OF 位（bit11 = 0x0800 → AH 的 bit3）  
- 溢出时 mov al,0 并 and ah,0F6h 同时清 CF 与 OF  
- 最后 iret 正确返回

## 测试案例说明
- add al,100   → 127 + 100 = 227 → 超过 8 位有符号最大值 127 → OF=1 → 触发 INTO  
- idiv bl      → -32768 ÷ -1 → 16 位有符号除法溢出 → OF=1 → 触发 INTO